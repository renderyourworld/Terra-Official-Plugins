apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-scripts-configmap
data:
  bootstrap.sh: |
    #!/bin/bash
    echo "Unpacking scripts..."
    # decode base64 encoded scripts mount at /terra/scripts.base64
    base64 -d /terra/scripts.base64 > /terra/scripts.tar.gz
    
    # extract scripts to /terra/scripts
    tar -xzvf /terra/scripts.tar.gz -C /terra/
    
    # make scripts executable
    chmod +x -v /terra/scripts/*.sh
    
    # start entrypoint.sh
    cd /terra/scripts
    pwd
    ./entrypoint.sh
  packaged_scripts.base64: "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"